---
import EventEditor from "./EventEditor.astro";
---

<div
    class="flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 lg:gap-0 mb-4"
>
    <h2 class="text-2xl font-bold">Event Management</h2>
    <div class="flex flex-col lg:flex-row gap-2">
        <div class="form-control w-full">
            <input
                type="text"
                id="eventSearch"
                placeholder="Search events..."
                class="input input-bordered input-sm w-full"
            />
        </div>
        <div class="flex gap-2 w-full lg:w-auto">
            <button id="searchEvents" class="btn btn-sm flex-1 lg:flex-none">
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-4 w-4"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                </svg>
                <span class="lg:hidden ml-2">Search</span>
            </button>
            <button
                id="addEvent"
                class="btn btn-primary btn-sm flex-1 lg:flex-none"
            >
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-4 w-4"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M12 4v16m8-8H4"></path>
                </svg>
                <span class="lg:hidden ml-2">Add Event</span>
            </button>
        </div>
    </div>
</div>
<div class="overflow-x-auto">
    <table class="table table-zebra w-full">
        <thead class="hidden lg:table-header-group">
            <tr>
                <th>Event Name</th>
                <th>Event ID</th>
                <th>Event Code</th>
                <th>Start Date</th>
                <th>End Date</th>
                <th>Points</th>
                <th>Registered</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody id="eventList" class="divide-y">
            <!-- Event entries will be populated here -->
        </tbody>
    </table>
</div>

<EventEditor />

<script>
    import { EventAuth } from "../auth/EventAuth";
    new EventAuth();
</script>
