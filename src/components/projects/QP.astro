---
import { LiaDotCircle } from "react-icons/lia";
import { Image } from "astro:assets";
import Link from "next/link";
import qp from "../../images/qp.webp";
import { IoIosArrowDroprightCircle } from "react-icons/io";
---

<div class="text-white flex flex-col items-center my-[7%] relative">
    <div class="flex items-center text-[2.7vw] mb-[4%]">
        <LiaDotCircle className=" mr-[1vw] pt-[0.5%]" />
        <p>Quarterly Project</p>
    </div>
    <div class="w-[70vw] aspect-[2.5/1] relative">
        <div
            id="qp-skeleton"
            class="skeleton absolute inset-0 rounded-full z-0"
        >
        </div>
        <Image
            id="qp-image"
            src={qp}
            alt="qp showcase photo"
            class="w-[70vw] aspect-[2.5/1] rounded-full absolute top-0 left-0 z-1"
        />
    </div>
    <Link
        data-inview
        href="/quarterly"
        className="in-view:animate-fade-left absolute top-[25%] right-[15%] w-fit px-[1%] py-[0.4%] bg-white rounded-full text-black flex items-center text-[1.3vw] hover:bg-ieee-yellow duration-300 shadow-md"
    >
        more details
        <IoIosArrowDroprightCircle
            className="ml-[0.5vw] text-[1.7vw] mt-[1%]"
        />
    </Link>
    <div
        data-inview
        class="in-view:animate-fade-right w-[45%] text-[1vw] font-semibold bg-white/50 backdrop-blur text-black absolute -bottom-[6%] left-[15%] px-[1.5%] py-[1%] rounded-[1.5vw]"
    >
        <p class="text-[1.4vw] mb-[2%]">Quarterly Project</p>
        <p>
            Getting started on hardware development or want to make your own
            project? Need something to put on your resume? IEEE's Quarterly
            Projects aims to provide students with project experience in a span
            of 10 weeks. Check out QP page for more detail!
        </p>
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        const image = document.getElementById("qp-image");
        const skeleton = document.getElementById("qp-skeleton");

        if (image) {
            image.onload = () => {
                skeleton.style.display = "none";
            };
        }
    });
</script>
